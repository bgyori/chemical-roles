[tox]
envlist =
    flake8
    lint
    validate
    chebi
    mesh
    export

[testenv:flake8]
skip_install = true
deps =
    flake8
    flake8-bandit
    flake8-colors
    flake8-docstrings
    flake8-import-order
    pep8-naming
    pydocstyle
commands =
    flake8 curate_chebi_relations.py curate_mesh_relations.py utils.py lint.py generate_export.py
description = Run the flake8 tool with several plugins (bandit, docstrings, import order, pep8 naming).

[testenv:lint]
skip_install = true
deps =
    click
    more_click
    pandas
    requests
    bioregistry
commands =
    python lint.py sort
    python lint.py tabs
    python lint.py mappings

[testenv:validate]
skip_install = true
deps =
    click
    more_click
    pandas
    requests
    pyobo>=0.3.3
    bioregistry>=0.0.13
commands =
    python lint.py validate

[testenv:chebi]
skip_install = true
deps =
    pyobo>=0.3.3
commands =
    python curate_chebi_relations.py -v

[testenv:chebi-ungrounded]
skip_install = true
deps =
    pyobo>=0.3.3
commands =
    python curate_chebi_relations.py --show-ungrounded

[testenv:mesh]
skip_install = true
deps =
    pyobo>=0.3.3
commands =
    python curate_mesh_relations.py

[testenv:export]
skip_install = true
deps =
    matplotlib
    networkx
    pandas
    seaborn
    pyobo
    pybel
commands =
    python generate_export.py
